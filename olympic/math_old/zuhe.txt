
　
――李博杰  主管   肖世康  协办――
　
愤慨有什么用？到国际竞赛上，拿下金牌来，才是中国人最大的成就！     ――雷勇
　组合趣题
By Matrix67 源地址
    最近看到了一个有趣的问题Gossip Problem。假如我们班有n个MM，每一个MM都有一个独家八卦消息。两个MM可以通过电话联系，一通电话将使得双方都获知到对方目前已知的全部消息。要想所有n个MM都知道所有n条八卦消息，最少需要多少通电话？
    一个最简单的办法就是从n个人中选一个消息汇总人，所有n-1个人都打电话给她，她再打电话给所有人。这样总共需要2n-2通电话。其实，汇总阶段的最后一通电话和发布阶段的第一通电话可以合并为一通电话，这样的话该方案实际上只需要2n-3通电话。打电话的次数还能更少吗？给出一个最优解，并证明这个数目已经不能再少了。
 
    显然，n=2时只需要一通电话，n=3时必须要3通电话。当n=4时，可以让AB互相通话，CD互相通话，此时每个人都知道了（包括自己的）两条消息；然后A和C通话，B和D通话，从而使得每个人都获知另外两条自己还不知道的消息。显然，对于4个人的情况，4通电话已经是最少的了。
    对于n>4的情况，有一种算法可以保证在2n-4通电话内解决问题。首先，选出4个人作为消息汇总人。其余每个人都选择一个汇总人并与之通话；然后4个汇总人再用4通电话互相更新一下消息（用刚才n=4的办法）；最后4个汇总人把电话再打回去，实现所有消息全部共享。下面我们证明，2n-4已经是最少的了。证明方法很多，也都很复杂。最常见的证明由Brenda Baker和Robert Shostak在1972年给出。

    证明的关键在于这个引例：如果我们可以在2n-5次电话以内达到要求，则整个过程中绝对不会有人在电话中听到对方八卦自己的消息。我们将用反证法来证明这一点。首先找出最小的n使得n个人可以在2n-5次通话中传遍消息。如果某个人G听到了自己的消息，表明整个过程中存在这么一条通话线路：(G - G1)(G1 - G2)...(Gr - G)。现在，我们把G这个人去掉，再重新安排一些通话线路，使得剩下的n-1个人同样能在2(n-1)-5次通话后传遍信息，从而与n的最小性矛盾。直接忽略上述“通话环”中的(G - G1)和(Gr - G)两条边。对于其他某个人P和G之间的通话(P-G)，找出(P-G)通电后最先出现的“通话环”中的其中一链（比如(Gi - Gi+1)）。在新方案中，让P把电话打给Gi。这样，原方案中任何一条由P1带给G再带给P2的消息，都由对应的Gi、Gj以及他们之间的链条来完成，即(P1 - Gi)(Gi - Gi+1) ... (Gj - P2)。新方案与原方案一样满足要求，且通话次数减少了两次，同样小于等于2n-5。
    每个人都不会听到自己的消息，这可以推出一个很有趣的东西：记一通电话的双方为A和B，则要么A和B都还没打完，要么这通电话对双方来说都是最后一通。原因很简单，假如这通电话是A的最后一电，这表明A和B都知道了所有的消息，但B还要给别人打电话，别人就会听到自己的消息。类似地，一通电话的双方要么都是第一次打，要么都不是第一次打：假如A的第一通电话是跟B打的，但B之前已经和C通过话了，那A的消息将永远与C的消息一起传递，因此最终C听到A的消息时也会听到她自己的。
    于是，对于所有电话次数不超过2n-5的情况，n只能是偶数。并且情况只可能是这样：先两两配对拨打n/2通“处女电”，然后中间打很多“中介电话”，最后再两个两个地打n/2个“最后一电”。由于所有的“处女电”和“最后一电”加起来恰好有n通，那么“中介电话”最多只能有n-5通。又由于连通所有n个点至少要n-1条边，可知这些“中介电话”构成了至少5个连通分量。对于任何一个人来说，在任何“最后一电”拨打之前，她的消息最多只能够在其中两个连通分量内传递（她所在的连通分量和她“处女电”的对象所在的连通分量）；类似地，所有“处女电”都打完了后，每个人都只能收到两个连通分量内的消息（她自己的和“最后一电”的对象的）。对于一个特定的人G来说，除去她自己、“处女电”的对象和“最后一电”的对象所在的连通分量，至少还有两个连通分量，里面的所有“中介电话”对她没有任何意义：这些“中介电话”既不会把她的消息传出去，也不会把别人的消息带给她。设与G不相干的电话通数为c(G)。
    反过来，又有多少通电话与G有关呢？让我们继续把目光停留到G身上。要想把她的消息传给所有人，至少需要n-1通电话；要想让所有消息都传到她那里，同样也得要n-1通电话。某些电话可以同时起到这两种作用，但有一个前提条件：这些电话必需是她亲自打的。否则，她自己的消息将“捆绑”进那些将会传给她的消息里，从而与引理矛盾。假设她自己打了v(G)通电话，那么总共有2n-2-v(G)通电话负责传出她的消息并把别人的消息传给她。由2n-5 ≥ 2n-2-v(G)+c(G)可知v(G) ≥ 3+c(G) ≥ 3。既然每个人都打了至少3次电话，这表明每个人都打过“中介电话”，直接推出每个连通分量都有至少一条边。前面说了，c(G)包含了至少两个连通分量中的所有边，因此c(G)≥2。因此，v(G)≥5。每个人都打了至少5次电话？这当然是不可能的，这将导致总的电话数目比2n还大了。
　
　　
Copyright （C） 2008 石家庄二中校友会 博杰学习网
　

　 
　
 
　
　