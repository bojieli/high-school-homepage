消灭“关闭计算机”按钮
  Contents  科技博览  站长文章  永远的十七  心灵碰撞  专题关注  Homepage
　    在Windows操作系统中，“关闭计算机”可以算是较为稳定的按钮了。每次按动开始菜单，“关闭计算机”总会出现，而且一旦按下此按钮，就会有一个框显示在桌面上，提示选择待机（休眠）、关机、重新启动，这时其他程序都暂停运行，桌面也变成了黑白的，可见“关闭计算机”是较为强大的。
    本文将介绍一种不损害计算机的方法，暂时消灭Windows中的“关闭计算机”按钮，只要重新启动，按钮即可恢复。利用的原理是强制结束系统控制用户、开关机的关键进程。
    准备工具：冰刃Icesword或其他能强行结束进程的工具（不能用Windows任务管理器）。打开Icesword，如有杀毒软件拦截则放行，由于需要加载系统驱动以获得底层权限。选择“进程”，选中lsass.exe，点击右键“结束进程”。对于其他结束进程工具，也只需结束lsass.exe即可。 当然，如果您熟悉MS-DOS命令，只需要一句命令“taskkill /F /IM lsass.exe”，其中/F表示强制终止进程，/IM表示后面的字符串是映像名（即运行程序的文件名）。
    结束此进程后，会立即出现“系统关机”对话框，提示系统进程被关闭，状态为1（非正常退出），需要立即重启，并有60秒的倒计时。此时抓紧时间点击开始按钮（此时发现“关闭计算机”按钮消失，目的已达到），选择运行，输入“shutdown -a”（不含引号）回车即可。此处“shutdown -a”命令的作用是终止系统关机进程。此时发现“系统关机”对话框消失，您可以正常进行其他操作。 此时“关闭计算机”功能不可用，任务管理器中的关机、重启、待机功能不可用。
    同时，此方法还将产生“无用户”效果。上述步骤完成后，打开“任务管理器”（Ctrl+Alt+Del），会发现除了System Idle Process进程的用户名为SYSTEM外，其它进程均为“未知”，也就是“无用户”效果，因为主管用户的lsass.exe已被强制关闭。同样的，如果您采用的是现代“开始”菜单，会发现上面本该有的用户名（如Administrastor）消失。
    注意，由于进入“无用户”状态，注销功能将无效，虽然“注销”按钮存在，但若点击此按钮则会导致无法再次进入您的帐户。 如果您确信要关闭计算机，可以选择“注销”中的“切换用户”（注意：选择“注销”将导致注销过程无法停止），到达用户切换界面，您会发现没有一个用户，也就是您不能再次进入刚才的桌面。但“关闭计算机”按钮此时可用，可以选择关机或重启，若有提示“其他用户正在使用，是否继续关机”，点击“是”，系统即可正常关闭。
    “关闭计算机”，这样一个看似强大的按钮，竟被简单的一个结束进程攻破，这说明Windows的底层并不是十分神秘、攻不可破，也暴露出Windows操作系统中的巨大漏洞。
    事实上，Windows的用户管理并不完善，漏洞明显，这也是众多病毒木马入侵的重要手段。Windows在设计用户管理时，只是表面文章，对图形界面的正常操作进行限制，却没有从文件系统、内存分配系统等核心区域加以限制，导致命令行、高级工具往往可以实现“越级”。例如，在Guest账户中可以利用at time命令执行任务计划，创建管理员帐户；Guest账户的默认设置甚至可以访问注册表（regedit），这些“超越权限”的行为不能不引起我们的警惕。

　

版权所有 2009-01-24 博杰学习网

 