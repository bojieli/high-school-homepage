
  以学为主
   
   
   
   
   
  一方风雨
   
   
   
   
   
  文海泛舟
   
   
   
   
   
   
  心灵碰撞
   
   
   
   
   
  科技博览
   
   
   
   
   
  共同关注
   
   
   
   
   
  民族责任
   
   
   
   
   
您的位置：博杰学习网>>和谐信息港>>信息技术>>文件夹中的最多文件数
文件夹中的最多文件数



    一个文件夹中最多存放多少个文件？有些人或许认为，磁盘有多大，就能创建多少文件。其实这不一定是正确的，取决于文件系统的差别。
    对于FAT16文件系统，可以保存的文件体积最大值是 4 GB - 1 byte (2^32 bytes - 1 byte)；卷的最大体积是4GB；每个卷上最多可以保存的文件数量是65,536个 (2^16)；根目录下可以保存的文件和文件夹数量最大值是512个（如果使用了长文件名，该数字还会减小）。
    对于FAT32文件系统， 可以保存的文件体积最大值是 4 GB - 1 byte (2^32 bytes - 1 byte)；Windows自带的工具可以创建的卷的最大体积是32GB；每个卷中最多可以保存的文件数量是4,177,920个；一个特定文件夹中最多可以保存的子文件夹和文件的数量是65,534（如果使用了长文件名，那么该数字会减小）。
    对于NTFS文件系统，可以保存的文件的大小的最大值，理论上是16EB - 1 KB (2^64 bytes - 1 KB)(1EB=1024PB=1024TB=1024GB) ，实际实现过的最大值是16TB - 64 KB (2^44 bytes - 64 KB)；卷的体积最大值，理论上可以达到2^64个簇 - 1个簇，实际实现过的最大值是2^56 TB - 64 KB ( 2^32 个簇 - 1个簇)；每个卷可以包含的文件个数的最大值是4,294,967,295个 (2^32 - 1) 。
    笔者发现这个问题，是在运行这样一个“垃圾文件产生器”时发现的。
#include<stdio.h>
#include<time.h>
#include <process.h> 
#include <dir.h> 
int main()
{ char a[1000]={"test\\00000\\"};
int i=0,t,now,status;
double y;
FILE *fp;
mkdir("test");
mkdir("test\\00000");
while(1)
{ i++;
t=i;now=11;
while(t!=0)
{ a[now]=t%10+'0';
now++;
t/=10;
}
fp=fopen(a,"w");
fclose(fp);
if(i%1000==0)
{ y=clock();
printf("make %d files in %lf seconds. Speed = %lf\n",i,y/1000,y/1000/i);
}
}
}

    以上程序在FAT32下运行后，会出现65534个文件，在这些文件建立后，会出现“程序遇到错误需要关闭”。因此每个文件夹下至多65534个文件得到验证。
    有趣的是，在这样一个“达到饱和”的文件夹中，每移出一个文件，才能移入另一个文件，并且系统会出现一些有趣的提示。

　
版权所有 2009-04-19 博杰学习网

 